<nav class="navbar navbar-expand-lg navbar-light shadow fixed-top fw-lighter py-1" style="background-color:#0d3c21;">
    {#--------------------------------- le container de la nav bar ----------------------------------- #}
    <div class="container">
{#--------------------------------- le logo de de la nav bar ----------------------------------- #}
        <a class="navbar-brand" href="{{ path('app_home_page') }}">
            <img src="/img/logoV2.png" alt="logo" width="60" height="30">
        </a>
{#------------------------------------ le bouton respensive ----------------------------------- #}
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
{#-------------------------------- les liens de la nav bar Ul Li ----------------------------------- #}
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        {# {% if app.user %}
            <div class="mx-auto text-center">Vous êtes connecté en tant que {{ app.user.FirstName }}</div>
        {% endif %}    #}

            <ul class="navbar-nav align-items-center">
            {% if is_granted("ROLE_ADMIN") %}
                 {# <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle text-light" href="{{ path('app_orders_show')}}" role="button" data-bs-toggle="dropdown">Historique Commandes</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{{ path('app_orders_show') }}">Voir l'historique</a></li>
                    </ul>
                </li>  #}

                {# <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle text-light" href="" role="button" data-bs-toggle="dropdown">Admin</a>
                </li> #}

                 <!--Menu des commandes-->
                {% if is_granted("ROLE_EDITOR") %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Commandes
                    </a>
                    <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="{{ path('app_orders_show',{'type':'is-completed'}) }}">Commandes livrées</a></li>
                    <li><a class="dropdown-item" href="{{ path('app_orders_show',{'type':'no_delivery'}) }}">Commandes non livrées</a></li>
                    <li><a class="dropdown-item" href="{{ path('app_orders_show',{'type':'pay-on-stripe-not-delivered'}) }}">Commandes payées en ligne non livrées</a></li>
                    <li><a class="dropdown-item" href="{{ path('app_orders_show',{'type':'pay-on-stripe-is-delivered'}) }}">Commandes payées en ligne livrées</a></li>
                    </ul>
                </li> 
                {% endif %}
                 <!--**************************-->
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle text-light" href="{{ path('app_city_index')}}" role="button" data-bs-toggle="dropdown">Cities</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{{ path('app_city_index') }}">Voir les villes</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown">Utilisateur</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{{ path('app_user') }}">Voir les utilisateurs</a></li>
                    </ul>
                </li>
            {# {% elseif is_granted("ROLE_EDITOR") %} #}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Catégories
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{{ path('app_category') }}">Voir les catégories</a></li>
                        <li><a class="dropdown-item" href="{{ path('app_sub_category_index') }}">Voir les sous-catégories</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Produits
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{{ path('app_product_index') }}">Voir les Produits</a></li>
                        {# <li><a class="dropdown-item" href="{{ path('app_product_index') {'id': categorie.name} }}">A les Produits</a></li> #}
                    </ul>
                </li>
            {% endif %}
            {% if categories is defined %} 
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-light" href="#" id="categoriesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Catégories
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="categoriesDropdown">
                        {% for categorie in categories %}
                            <li class="dropdown-submenu  dropend">
                                <a class="dropdown-item dropdown-toggle" href="#"  role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    {{ categorie.name }}
                                </a>
                                {# <ul class="dropdown-menu" > #}
                                {% for subCategorie in categorie.subCategories %}
                                    <li class="dropdown-submenu position-relative">
                                        <a class="dropdown-item" href="{{ path('app_home_produit_filter',{'id':subCategorie.id})}}" >{{ subCategorie.name }}</a>
                                    </li>
                                {% endfor %}
                                {# </ul> #}
                            </li>
                            <li><hr class="dropdown-divider"></h></li>
                        {% endfor %}
                        
                    </ul>
                </li> 
            {% endif %}
                <li class="nav-item">
                    <a class="nav-link text-light" href="{{ path('app_cart') }}"  role="button" aria-expanded="false">
                    Panier
                    </a>
                </li>
            {% if app.user %}
                <li class="nav-item">
                    <a href="{{ path('app_logout') }}" class="btn btn-sm btn-outline-light" onclick="return confirm('Es-tu sûr de vouloir te déconecter ?');">  Déconnexion</a>
                </li>
            {% else %}
                <li class="nav-item">
                    <a class="btn btn-sm btn-outline-light" href="{{ path('app_register') }}">Inscription</a>
                </li>
                <li class="nav-item">
                    <a class="btn btn-sm btn-green" href="{{ path('app_login') }}">Connexion</a>
                </li>
            {% endif %}

            </ul>
        </div>
    </div>
</nav>

