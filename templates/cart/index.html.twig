{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}

<h1 class="text-center" style="margin-top:3em;letter-spacing:2px;margin-bottom:2em;">Panier</h1>
<div class="product-card">
    {% include 'layouts/_flash_message.html.twig' %} 
    <table class="table table-light table-striped">
        <thead>
            <tr>
                <th scope="col" class="text-center">produit</th>
                <th scope="col">prix</th>
                <th scope="col">Quantité</th>
                <th scope="col" class="text-center" >Total</th>
                <th scope="col" class="text-center">Action</th>
            </tr>
        </thead>
        <tbody class="align-middle">

        {% for item in items %}
            <tr>
                <td scope="row" class="text-center"> {{ item.product.name }} </td>
                <td scope="row" class="">{{ item.product.prix }} €</td>
                <td scope="row" class="fw-lighter">{{ item.quantity }}  </td> 
                <td scope="row" class="fw-lighter text-center">{{ item.product.prix * item.quantity }} €</td>
                <td scope="row" class="fw-lighter text-center">
                     <a href="{{ path('app_cart_delete',{'id':item.product.id})}}" class="btn btn-xs">❌</a> 
                </td> 
            </tr>
        {% else %} 
            <tr>
                <td colspan="5" class="text-center"> Aucun produit dans votre panier</td>
            </tr>
        {% endfor %} 
        </tbody>
    </table>
    {% if total > 0 %}
    <h2> Total: {{ total }} €</h2>
    <div class="d-grid gap-2 d-md-flex justify-content-md-end mx-2">
        <a href="" class="btn btn-sm btn-secondary" >Valider La commande</a>
        <a href="{{ path('app_cart_remove')}}" class="btn btn-sm btn-outline-secondary">Supprimer le panier</a> 
        <a href="{{ path('app_home_page') }}" class="btn btn-sm btn-outline-secondary">Retour</a>
    </div>
    {% endif %}
</div>
{% endblock %}
